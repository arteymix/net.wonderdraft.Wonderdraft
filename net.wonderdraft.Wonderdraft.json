{
    "id": "net.wonderdraft.Wonderdraft",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "25.08",
    "sdk": "org.freedesktop.Sdk",
    "rename-desktop-file": "Wonderdraft.desktop",
    "command": "wonderdraft",
    "finish-args": [
        "--socket=x11",
        "--socket=pulseaudio",
        "--device=dri",
        "--share=ipc",
        "--share=network",
        "--filesystem=home"
    ],
    "modules": [
        {
            "name": "wonderdraft",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "archive",
                    "path": "Wonderdraft-1.1.8.2-b-Linux64.zip",
                    "sha512": "65403b6349024eae633dee808621628122a3e9ad167ca2060fd051290d7e307f0391f60d7dce1cb9e53047921834c6a9136d8cb99c843099940bb7f6cef2319f"
                },
                {
                    "type": "file",
                    "path": "net.wonderdraft.Wonderdraft.appdata.xml"
                },
                {
                    "type": "file",
                    "path": "net.wonderdraft.Wonderdraft.mime.xml"
                }
            ],
            "build-commands": [
                "mkdir -p /app/{bin,share/appdata,share/wonderdraft}",
                "cp -R . /app/share/wonderdraft",
                "chmod +x /app/share/wonderdraft/Wonderdraft.x86_64",
                "ln -s /app/share/wonderdraft/Wonderdraft.x86_64 /app/bin/wonderdraft",
                "desktop-file-install --set-key Exec --set-value 'wonderdraft %f' --set-icon ${FLATPAK_ID} --set-key MimeType --set-value 'application/vnd.wonderdraft.map;' --remove-key Path --set-key Version --set-value 1.5 --dir /app/share/applications Wonderdraft.desktop",
                "install -Dm644 ${FLATPAK_ID}.appdata.xml /app/share/appdata/${FLATPAK_ID}.appdata.xml",
                "install -Dm644 Wonderdraft.png /app/share/icons/hicolor/128x128/apps/${FLATPAK_ID}.png",
                "install -Dm644 net.wonderdraft.Wonderdraft.mime.xml /app/share/mime/packages/${FLATPAK_ID}.xml"
            ]
        }
    ]
}
